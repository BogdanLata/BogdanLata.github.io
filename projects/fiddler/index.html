<!DOCTYPE html> <html lang="en"> <head> <meta http-equiv="Content-Type" content="text/html; charset=UTF-8"> <meta charset="utf-8"> <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no"> <meta http-equiv="X-UA-Compatible" content="IE=edge"> <title>Fiddler problems | Bogdan Lataianu</title> <meta name="author" content="Bogdan Lataianu"> <meta name="description" content="A simple, whitespace theme for academics. Based on [*folio](https://github.com/bogoli/-folio) design. "> <meta name="keywords" content="jekyll, jekyll-theme, academic-website, portfolio-website"> <link rel="stylesheet" href="/assets/css/bootstrap.min.css?a4b3f509e79c54a512b890d73235ef04"> <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/css/mdb.min.css" integrity="sha256-jpjYvU3G3N6nrrBwXJoVEYI/0zw8htfFnhT9ljN3JJw=" crossorigin="anonymous"> <link defer rel="stylesheet" href="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.css"> <link rel="stylesheet" href="/assets/css/academicons.min.css?f0b7046b84e425c55f3463ac249818f5"> <link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=Roboto:300,400,500,700|Roboto+Slab:100,300,400,500,700|Material+Icons"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-github.css?19f3075a2d19613090fe9e16b564e1fe" media="" id="highlight_theme_light"> <link rel="shortcut icon" href="data:image/svg+xml,&lt;svg%20xmlns=%22http://www.w3.org/2000/svg%22%20viewBox=%220%200%20100%20100%22&gt;&lt;text%20y=%22.9em%22%20font-size=%2290%22&gt;%E2%9A%9B%EF%B8%8F&lt;/text&gt;&lt;/svg&gt;"> <link rel="stylesheet" href="/assets/css/main.css?d41d8cd98f00b204e9800998ecf8427e"> <link rel="canonical" href="https://bogdanlata.github.io/projects/fiddler/"> <link rel="stylesheet" href="/assets/css/jekyll-pygments-themes-native.css?e74e74bf055e5729d44a7d031a5ca6a5" media="none" id="highlight_theme_dark"> <script src="/assets/js/theme.js?96d6b3e1c3604aca8b6134c7afdd5db6"></script> <script src="/assets/js/dark_mode.js?9b17307bb950ffa2e34be0227f53558f"></script> </head> <body class="fixed-top-nav "> <header> <nav id="navbar" class="navbar navbar-light navbar-expand-sm fixed-top"> <div class="container"> <a class="navbar-brand title font-weight-lighter" href="/"><span class="font-weight-bold">Bogdan </span>Lataianu</a> <button class="navbar-toggler collapsed ml-auto" type="button" data-toggle="collapse" data-target="#navbarNav" aria-controls="navbarNav" aria-expanded="false" aria-label="Toggle navigation"> <span class="sr-only">Toggle navigation</span> <span class="icon-bar top-bar"></span> <span class="icon-bar middle-bar"></span> <span class="icon-bar bottom-bar"></span> </button> <div class="collapse navbar-collapse text-right" id="navbarNav"> <ul class="navbar-nav ml-auto flex-nowrap"> <li class="nav-item "> <a class="nav-link" href="/">about</a> </li> <li class="nav-item "> <a class="nav-link" href="/blog/">blog</a> </li> <li class="nav-item "> <a class="nav-link" href="/projects/">projects</a> </li> <li class="nav-item "> <a class="nav-link" href="/repositories/">repositories</a> </li> <li class="nav-item "> <a class="nav-link" href="/people/">people</a> </li> <li class="nav-item dropdown "> <a class="nav-link dropdown-toggle" href="#" id="navbarDropdown" role="button" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">submenus</a> <div class="dropdown-menu dropdown-menu-right" aria-labelledby="navbarDropdown"> <div class="dropdown-divider"></div> <a class="dropdown-item" href="/projects/">projects</a> </div> </li> <li class="toggle-container"> <button id="light-toggle" title="Change theme"> <i class="fas fa-moon"></i> <i class="fas fa-sun"></i> </button> </li> </ul> </div> </div> </nav> <progress id="progress" value="0"> <div class="progress-container"> <span class="progress-bar"></span> </div> </progress> </header> <div class="container mt-5"> <div class="post"> <header class="post-header"> <h1 class="post-title">Fiddler problems</h1> <p class="post-description"></p> </header> <article> <p><a href="https://thefiddler.substack.com/p/dont-flip-out" rel="external nofollow noopener" target="_blank">Fiddler Problem: Don’t flip out</a><br> We calculate the probability using a Markov process method. We define the states \((a_1,a_2,a_3)\times (b_1,b_2,b_3)\) and define the transition probabilities from a state to other \(p_{ij}((a_1,a_2,a_3)\times (b_1,b_2.b_3)\rightarrow (c_1,c_2,c_3)\times (d_1,d_2,d_3))\), where each \(a,b,c,d\) are 0 or 1.<br> The tuples can be any of \(((0,0,0),(0,0,1),(0,1,0),(0,1,1),(1,0,0),(1,0,1),(1,1,0),(1,1,1))\)<br> For our problem, we have 14 absorbing states, 7 when the game ends with either first player wins (corresponding to tuple (1,1,1)) and 7 when second player wins(corresponding to tuple (1,1,0)). We have that each transition probability is either 1/4 or 0.<br> For example: \(P((0,0,1)\times (0,1,1)\rightarrow (0,1,0)\times (1,1,0))=1/4\) \(P((0,0,1)\times (0,1,1)\rightarrow (0,1,1)\times (1,1,0))=1/4\)<br> \(P((0,0,1)\times (0,1,1)\rightarrow (0,1,0)\times (1,1,1))=1/4\)<br> \(P((0,0,1)\times (0,1,1)\rightarrow (0,1,1)\times (1,1,1))=1/4\)<br> but \(P((0,0,1)\times (0,1,1)\rightarrow (0,0,0)\times (1,1,0))=0\)<br> The transition probabilities form a transition probability matrix (t.p.m.) M that has dimension 64 x 64 and has the following form: \(\begin{bmatrix} I &amp; 0 \\ R &amp; Q \\ \end{bmatrix}\)</p> <p>where \(R\) is the 50x14 t.p.m. from the absorbing states to the non-absorbing, and the \(Q\) is the 50x50 t.p.m. of the transient (non-absorbing) states</p> <p>Then the solution is provided by the following theorem:<br> If \(a_{ij}\) is the probability that starting from transient state \(i\) we reach the absorbing state \(j\), then the matrix \(A=(a_{ij})\) is given by:<br> \(A=(I-Q)^{-1}R\). The matrix \(A\) has dimension 50x14. It can be split into two parts \(A_1\) with columns from 1 to 7 corresponding to reaching (1,1,1) and \(A_2\) corresponding to reaching (1,1,0). We calculate the total \(t_1\) of all elements in matrix \(A_1\) and respectively the total \(t_2\) for \(A_2\).<br> Then using the probabilities for the initial step we obtain that the probability that first player wins is \(1/8^2+7/8^2\cdot t_1\) and the probability that second player wins is \(1/8^2+7/8^2\cdot t_2\).<br> We obtain the first probability as 25439/71106~0.3578 and second probability as 45667/71106~0.6422.</p> <p><a name="dice1"></a></p> <p><a href="https://thefiddler.substack.com/p/can-you-roll-the-dungeon-masters" rel="external nofollow noopener" target="_blank">Fiddler Problem: Can You Roll the Dungeon Master’s Dice?</a><br> Suppose we choose \(x\) and \(y\) from set \(A=[4,6,8,10,12,20]\). We find minimum of them, \(\min(x,y)\). Then the probability to pick two equal numbers is:<br> \(\begin{equation} \sum_{(x,y)\in A\times A}\frac{\min(x,y)}{36\cdot x \cdot y}=\frac{432345564227567591}{4611686018427387904}\sim 0.9375 \end{equation},\) since we have 36 pairs.<br> <strong>Extra Credit</strong> Suppose we pick a tuple \((x,y,z)\in A\times A\times A\). Then we sort \((x,y,z)\) to get \((a,b,c)\), where \(a\leq b\leq c\). Now we cast the dice \(x,y,z\) to obtain three values. The probability that all three values are equal is: \(\begin{equation} p_1=\sum_{(x,y,z)\in A\times A\times A}\frac{a}{216xyz}=\frac{388494218522510891}{36893488147419103232}\sim 0.01053 \end{equation}\)<br> The probability that all three values are different is:<br> \(\begin{equation} p_3=\sum_{(x,y,z)\in A\times A\times A}\frac{a(b-1)(c-2)}{216xyz}=\frac{1705886440187656367}{2305843009213693952}\sim 0.73981 \end{equation} \notag\)</p> <p>The probability that only two values are different out of three is :\(p_2=1-p_1-p_3\). <br> Therefore the expectation of the number of different values is: <br> \(E=p_1+2\cdot p_2+3\cdot p_3=\frac{100692665119318197445}{36893488147419103232}\sim 0.24966\).</p> <details> <summary> Python program </summary> <pre><code>
 ```python   
import numpy as np;import random  
from decimal import Decimal, getcontext  
from fractions import Fraction
from myscript import List,dec
A = [4, 6, 8, 10, 12, 20]
p = [(x, y,min(x,y),Fraction(1/36*min(x,y)/(x*y))) for x in A for y in A]
p=np.array(p)
w=sum(p[:,3]);print(w)
print(dec(w)
q=[(x,y,z,pr,Fraction(min(x,y,z)/(216*x*y*z)),Fraction(pr)) for x in A for y in A for z in A
   if ((o:=List(sorted([x,y,z]))) and (pr:=o[1]*(o[2]-1)*(o[3]-2)*1/(x*y*z)*1/216))]
q=np.array(q)
q1=sum(q[:,4]);print(q1);print(dec(q1))
q3=sum(q[:,5]);print(q3);print(dec(q3))
q2=1-q1-q3;print(q2);print(q1+2*q2+3*q3);print(dec(q2))
```
</code></pre> <strong>Heading</strong> </details> <p>stop</p> </article> </div> </div> <footer class="fixed-bottom"> <div class="container mt-0"> © Copyright 2024 Bogdan Lataianu. Powered by <a href="https://jekyllrb.com/" target="_blank" rel="external nofollow noopener">Jekyll</a> with <a href="https://github.com/alshedivat/al-folio" rel="external nofollow noopener" target="_blank">al-folio</a> theme. Hosted by <a href="https://pages.github.com/" target="_blank" rel="external nofollow noopener">GitHub Pages</a>. Photos from <a href="https://unsplash.com" target="_blank" rel="external nofollow noopener">Unsplash</a>. </div> </footer> <script src="https://cdn.jsdelivr.net/npm/jquery@3.6.0/dist/jquery.min.js" integrity="sha256-/xUj+3OJU5yExlq6GSYGSHk7tPXikynS7ogEvDej/m4=" crossorigin="anonymous"></script> <script src="/assets/js/bootstrap.bundle.min.js"></script> <script src="https://cdn.jsdelivr.net/npm/mdbootstrap@4.20.0/js/mdb.min.js" integrity="sha256-NdbiivsvWt7VYCt6hYNT3h/th9vSTL4EDWeGs5SN3DA=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/masonry-layout@4.2.2/dist/masonry.pkgd.min.js" integrity="sha256-Nn1q/fx0H7SNLZMQ5Hw5JLaTRZp0yILA/FRexe19VdI=" crossorigin="anonymous"></script> <script defer src="https://cdn.jsdelivr.net/npm/imagesloaded@4/imagesloaded.pkgd.min.js"></script> <script defer src="/assets/js/masonry.js" type="text/javascript"></script> <script defer src="https://cdn.jsdelivr.net/npm/medium-zoom@1.0.8/dist/medium-zoom.min.js" integrity="sha256-7PhEpEWEW0XXQ0k6kQrPKwuoIomz8R8IYyuU1Qew4P8=" crossorigin="anonymous"></script> <script defer src="/assets/js/zoom.js?7b30caa5023af4af8408a472dc4e1ebb"></script> <script defer src="https://unpkg.com/bootstrap-table@1.22.1/dist/bootstrap-table.min.js"></script> <script src="/assets/js/no_defer.js?d633890033921b33e0ceb13d22340a9c"></script> <script defer src="/assets/js/common.js?acdb9690d7641b2f8d40529018c71a01"></script> <script defer src="/assets/js/copy_code.js?c9d9dd48933de3831b3ee5ec9c209cac" type="text/javascript"></script> <script async src="https://d1bxh8uas1mnw7.cloudfront.net/assets/embed.js"></script> <script async src="https://badge.dimensions.ai/badge.js"></script> <script type="text/javascript">window.MathJax={tex:{tags:"ams"}};</script> <script defer type="text/javascript" id="MathJax-script" src="https://cdn.jsdelivr.net/npm/mathjax@3.2.0/es5/tex-mml-chtml.js"></script> <script defer src="https://polyfill.io/v3/polyfill.min.js?features=es6"></script> <script type="text/javascript">function progressBarSetup(){"max"in document.createElement("progress")?(initializeProgressElement(),$(document).on("scroll",function(){progressBar.attr({value:getCurrentScrollPosition()})}),$(window).on("resize",initializeProgressElement)):(resizeProgressBar(),$(document).on("scroll",resizeProgressBar),$(window).on("resize",resizeProgressBar))}function getCurrentScrollPosition(){return $(window).scrollTop()}function initializeProgressElement(){let e=$("#navbar").outerHeight(!0);$("body").css({"padding-top":e}),$("progress-container").css({"padding-top":e}),progressBar.css({top:e}),progressBar.attr({max:getDistanceToScroll(),value:getCurrentScrollPosition()})}function getDistanceToScroll(){return $(document).height()-$(window).height()}function resizeProgressBar(){progressBar.css({width:getWidthPercentage()+"%"})}function getWidthPercentage(){return getCurrentScrollPosition()/getDistanceToScroll()*100}const progressBar=$("#progress");window.onload=function(){setTimeout(progressBarSetup,50)};</script> </body> </html>